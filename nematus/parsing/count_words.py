from collections import Counter
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from scipy import stats
path = "/cs/snapless/oabend/borgr/SSMT/preprocess/data/en_de/5.8//UD/train.clean.unesc.tok.tc.bpe.trns1.en"
word_nums = []
with open(path) as fl:
    for i, line in enumerate(fl):
        word_nums.append(line.count(" "))
        if (i+1) % 1000000 == 0:
            print(i)
sns.distplot(word_nums)
# # print("counting")
# # word_nums = Counter(word_nums)
# # print(word_nums.most_common(len(word_nums)))
#
#
# word_nums = dict([(31, 91354), (29, 91241), (33, 90820), (35, 89717), (27, 88563), (37, 87951), (39, 86380), (25, 86242), (41, 85143), (23, 82714), (43, 81009), (45, 79402), (21, 78315), (47, 74687), (49, 71638), (19, 70674), (51, 68658), (53, 65328), (17, 62704), (55, 62337), (57, 59077), (40, 56595), (59, 56098), (38, 56033), (36, 54974), (42, 54822), (34, 54534), (44, 54429), (61, 53525), (46, 53228), (32, 53181), (48, 51837), (30, 50847), (15, 50731), (50, 50214), (63, 50050), (52, 48895), (28, 48291), (54, 47534), (65, 46840), (56, 45582), (26, 44707), (67, 44170), (58, 43677), (60, 42210), (69, 41510), (24, 41390), (62, 40362), (13, 40152), (71, 38689), (64, 38551), (66, 36608), (73, 36586), (22, 35778), (68, 34230), (75, 33528), (70, 32647), (77, 31709), (72, 30659), (20, 30357), (79, 29129), (74, 28894), (76, 27535), (81, 26869), (78, 25622), (83, 24857), (18, 24247), (80, 23274), (85, 22935), (82, 22087), (87, 21344), (11, 20639), (84, 20534), (89, 19753), (86, 19095), (91, 17990), (88, 17941), (9, 17339), (16, 16661), (93, 16519), (90, 16318), (95, 15019), (92, 14930), (94, 13842), (97, 13510), (96, 12684), (99, 12323), (98, 11590), (100, 10414), (14, 10410), (101, 8858), (102, 7471), (7, 6438), (103, 6175), (5, 6125), (1, 6009), (104, 5169), (105, 4297), (12, 3617), (106, 3489), (107, 2914), (108, 2439), (3, 2158), (109, 2060), (10, 1849), (110, 1710), (111, 1412), (112, 1174), (8, 1081), (113, 1001), (114, 857), (115, 714), (116, 572), (117, 501), (118, 407), (6, 369), (119, 348), (120, 275), (121, 258), (122, 228), (123, 197), (2, 174), (125, 161), (124, 158), (4, 158), (126, 145), (127, 118), (128, 113), (130, 96), (131, 88), (129, 87), (132, 69), (133, 63), (135, 58), (134, 56), (136, 47), (137, 46), (140, 37), (138, 36), (139, 32), (144, 28), (143, 23), (142, 23), (141, 22), (147, 18), (146, 18), (148, 17), (149, 17), (151, 14), (150, 13), (157, 12), (145, 10), (164, 10), (152, 9), (167, 9), (160, 8), (154, 8), (165, 7), (156, 7), (155, 7), (180, 7), (158, 6), (159, 5), (161, 5), (171, 5), (153, 5), (173, 4), (172, 4), (185, 4), (166, 4), (163, 4), (179, 3), (221, 3), (183, 3), (174, 3), (178, 3), (181, 3), (168, 3), (162, 3), (176, 3), (175, 2), (170, 2), (232, 2), (191, 2), (193, 2), (184, 2), (189, 1), (204, 1), (253, 1), (208, 1), (223, 1), (218, 1), (250, 1), (201, 1), (265, 1), (293, 1), (281, 1), (169, 1), (196, 1), (195, 1), (199, 1), (182, 1), (206, 1), (190, 1), (177, 1)])
# labels, values = zip(*word_nums.items())
#
# indexes = np.arange(len(labels))
# width = 1
#
# plt.bar(indexes, values, width)
# plt.xticks(indexes + width * 0.5, labels)
plt.show()